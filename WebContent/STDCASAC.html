<!DOCTYPE html>

<html>
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>
<style type="text/css">
#footer {
  padding: 0px;
    margin-top: 40px;
    /* border: 1px solid black; */
    width: 0px;
    position: absolute;
       width: 100%;
    b: auto;
    bottom: 1px;
    background: #e6f2f4;
    left: 1px;
}

#f1 {
	height: auto;
	width: auto;
	border: 0px FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	font-size: 100%;
	visibility: visible;
	margin: 0px;
	padding: 0px;
	BACKGROUND: #fff;
	border: 0px;
	width: 680px;
	height: 485px;
	display: none;
	position: absolute;
	top: 91px;
	border: 1px solid black;
	z-index: 1;
}

.WNDtitlebar {
    FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
    font-size: 100%;
    TEXT-ALIGN: left;
    PADDING-BOTTOM: 0px;
    BORDER-RIGHT-STYLE: none;
    MARGIN: 0px;
    PADDING-LEFT: 0px;
    left: 0px;
    PADDING-RIGHT: 0px;
    BORDER-TOP-STYLE: none;
    CLEAR: both;
    BORDER-LEFT-STYLE: none;
    PADDING-TOP: 0px;
    background: #557176;
    border-bottom: 1px solid #7a9498;
    cursor: move;
    HEIGHT: 1.7em;
    position: absolute;
    width: 100%;
    top: 0px;
    left: 0px;
}

.BTNicon {
	TEXT-ALIGN: left;
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	COLOR: #000;
	FONT-SIZE: 0.74em;
	FONT-WEIGHT: normal;
	BORDER-BOTTOM-STYLE: none;
	BORDER-RIGHT-STYLE: none;
	WIDTH: 22px;
	BORDER-TOP-STYLE: none;
	BACKGROUND: none transparent scroll repeat 0% 0%;
	HEIGHT: 22px;
	VERTICAL-ALIGN: middle;
	BORDER-LEFT-STYLE: none;
	CURSOR: default;
	padding: 0px !important;
	margin: 0px !important;
	display: none;
	float: left;
}

.ICOflexcube {
	TEXT-ALIGN: left;
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	COLOR: #000;
	FONT-SIZE: 0.74em;
	FONT-WEIGHT: normal;
	MARGIN: 0px;
	CURSOR: auto;
	float: left;
	BACKGROUND:
		url("data:image/gif;base64,R0lGODlhFgAWAPcAAC1tnIyNkvz9/hA0Zd7e4IWeu5m62BQwT7fL7ODm8Cc8ZxQvZgEvaxxRgIiu0/r7+6fD3srU6r7c6gM8df///////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAABUALAAAAAAWABYARwiBACsIHEiwoEGDEgRQWMjQwISHEwAcJChhIYEBASZqlAAxokaBFRmKtKigwMeTKAkCkJgSpEIKHCGyRPhyZEOIJg+GFEngQMaWFTACHXoSwMOZKSsi6Ih0ooQHIiEwdVpzpEOIDQrutMnQAYOcCLlSSCD05FYCC362lBChLNG3QwMCADs=")
		no-repeat;
	PADDING-BOTTOM: 0px;
	TEXT-INDENT: -5em;
	PADDING-LEFT: 0px;
	PADDING-RIGHT: 0px;
	PADDING-TOP: 0px;
	MARGIN-LEFT: 1px;
	width: 22px;
	height: 21px;
	display: none;
}

.WNDtitletxt {
	TEXT-ALIGN: left;
	cursor: move;
	padding: 0px;
	MARGIN: 0px;
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	WHITE-SPACE: nowrap;
	FLOAT: left;
	COLOR: #fff;
	OVERFLOW: hidden;
	PADDING-TOP: 0.3em;
	font-size: .9em;
	font-weight: normal;
	padding-left: 5px;
}

.WNDbuttons {
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	font-size: 100%;
	TEXT-ALIGN: left;
	cursor: move;
	PADDING-BOTTOM: 0px;
	MARGIN: 0px;
	PADDING-LEFT: 0px;
	WIDTH: 60px;
	PADDING-RIGHT: 0px;
	DISPLAY: block;
	FLOAT: right;
	HEIGHT: 1.5em;
	PADDING-TOP: 0px;
}

.WNDcls {
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	font-size: 100%;
	TEXT-ALIGN: left;
	margin: 0px;
	padding: 0px;
	background:
		url("data:image/gif;base64,R0lGODlhEQARAPAAAP///////yH5BAEAAAEALAAAAAARABEAQAIjjI+pB70PmUMNqJpw3NLqh33cSAbWBU6mulRsKl5qzLSlUgAAOw==")
		no-repeat 50% 50%;
	BORDER-BOTTOM-STYLE: none;
	BORDER-RIGHT-STYLE: none;
	DISPLAY: block;
	BACKGROUND-REPEAT: no-repeat;
	BORDER-TOP-STYLE: none;
	FLOAT: right;
	BORDER-LEFT-STYLE: none;
	WIDTH: 28px;
	HEIGHT: 26px;
	margin-right: 0px;
}

.WNDmax {
	    FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
    font-size: 100%;
    TEXT-ALIGN: left;
    margin: 0px;
    padding: 0px;
    background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAJklEQVR42mP4//8/A6WYgZqGUAKGuyGkBOioIUPSkIFPbANfFAAACy/VVcwia0gAAAAASUVORK5CYII=) no-repeat 50% 50%;
    BORDER-BOTTOM-STYLE: none;
    BORDER-RIGHT-STYLE: none;
    DISPLAY: block;
    BACKGROUND-REPEAT: no-repeat;
    BORDER-TOP-STYLE: none;
    FLOAT: right;
    BORDER-LEFT-STYLE: none;
    WIDTH: 15px;
    HEIGHT: 26px;
    margin-right: 0px;
}

.LBLinv {
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	TEXT-ALIGN: left;
	margin: 0px;
	padding: 0px;
	margin-left: -3px;
	POSITION: absolute;
	BACKGROUND: #fff;
	COLOR: #000;
	TOP: 0px;
	OPACITY: 0;
	HEIGHT: 0px;
	WIDTH: 0px;
	font-size: 0px;
	z-index: -1;
	LEFT: -300px;
}

   .button {
 background-color: #f5f5f8;
    border: none;
    color: black;
    padding: 5px 11px;
    text-align: center;
    text-decoration: none;
    display: inline-block;
    font-size: 14px;
    margin: 4px 2px;
    cursor: pointer;
   
}

 .button:hover {
        border-bottom: 4px solid #35b0e3;
        position: static;
        /* border-radius: 20px; */
            }
#button {
  background-color: #557176;
  border: none;
  color: white;
  padding: 7px 13px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
      
}   
#header {
	    padding: 0px;
    /*  margin-top: 30px;  */
  /*   border: 1px solid black; */
       width: 100%;
    position: absolute;
    background: #f5f5f8;
    height: 9%;
    left: -1px;
}

input {
	border: 1px solid #d9d9d9;
	background: none;
	color: #000;
	padding: 3px;
	BORDER-BOTTOM: #d7d7d7 1px solid;
	BORDER-LEFT: none;
	BORDER-RIGHT: none;
	BORDER-TOP: none;
	MARGIN: 0px;
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	VERTICAL-ALIGN: top;
	box-shadow: none;
	box-sizing: border-box;
	font-size: .8em;
	max-width: 246.746666666667px;
}

.TXTstd1 {
	border: 1px solid #d9d9d9;
	background: none;
	color: #000;
	padding: 3px;
	BORDER-BOTTOM: #d7d7d7 1px solid;
	BORDER-LEFT: none;
	BORDER-RIGHT: none;
	BORDER-TOP: none;
	BORDER-BOTTOM: none;
	MARGIN: 0px;
	FONT-FAMILY: Arial, Tahoma, Verdana, Helvetica, sans-serif;
	VERTICAL-ALIGN: top;
	box-shadow: none;
	box-sizing: border-box;
	font-size: .8em;
	max-width: 246.746666666667px;
}

label {
	display: inline-block;
	width: 150px;
	text-align: right;
}

#fetchData_div {
	position: absolute;
	margin-top: -22px;
	margin-left: 353px;
}

#dt {
	text-indent: -510px;
	height: 21px;
	width: 23px;
}

#min{
    position: absolute;
    right: 49px;
    top: 14px;
    }
</style>
</head>
<body >

 <p id="text" style="
    margin-right: -120px;
    position: absolute;
    left: 16px;
    color: white;
    top: -9px;
    /* opacity: 1.7; */
    z-index: 1;
">User Maintenance</p>
	
	
	<div class="WNDtitlebar" id="WNDtitlebar">
			<b class="BTNicon"><span class="ICOflexcube"></span></b>
			<h1 id="titleLOV" class="WNDtitletxt"></h1>

			<div class="WNDbuttons">
				<a class="WNDcls" href="#" id="WNDbuttons" title="Close"
					onclick="parent.closeIframe()"> <span class="LBLinv">Close</span>
				</a> <a class="WNDmax" href="#" id="WNDmaxBTN" title="Maximize"
					onclick="parent.maximizeFrame(event)"> <span class="LBLinv">Maximize</span>
				</a>
				<button id="min" type="button" onclick="parent.minimizeFrame(event)"><a class="WNDmin" href="#" title="Minimize" onclick="parent.minimizeFrame(event)"><span class="LBLinv">Min</span></a></button>
			
			</div>
		</div>
	

	<header id="header">


		   

		<div class="button_list">
			<button id="NewId" class="button" type="button" value="New"
				onclick=" createNew();resetValues();readOnlyf();getDataFooter();"
				onmousedown="">New</button>

			<button id="Id" class="button" type="button" value="Query"
				onclick="createBTN();resetValues();" onmousedown="">Query</button>

			<button id="ModifyId" class="button" type="button" value="Modify"
				onclick="readOnlyf();modifybtnEnable();" onmousedown="">Modify</button>
			<button id="DeleteId" class="button" type="button" value="Delete"
				onclick="validateDelet();" onmousedown="">Delete</button>
			<button id="CloseId" class="button" type="button" value="Close"
				onclick="CloseAcc();" onmousedown="">Close</button>
			<button id="ApprovalId" class="button" type="button" value="Approval"
				onclick="approveData()" onmousedown="">Approval</button>
			<br>
			<button id="buttonExec" class="button" type="button"
				value="buttonExec"
				onclick="getCustomerDetails('DynamicTest2');" onmousedown="">Execute</button>
			<button id="buttonSave" class="button" type="button"
				value="buttonSave" onclick="CustPost('UserMaintenancePost')"
				onmousedown="">Save</button>

			<button id="modify&save" class="button" type="button"
				value="modify&save"
				onclick="modifybtn();CustPost('UserMaintenanceUpdate');"
				onmousedown="">Modify & Save</button>





		</div>

		<div id="create_btn"></div>
		<div id="create_new"></div>
	</header>



<!-- 	<form action="UserMaintenancePost"> -->


		



		<div class="frame1">
			<iframe src="" id="f1"></iframe>
			<div class="WNDtitlebar" id="WNDtitlebar">
				<b class="BTNicon"><span class="ICOflexcube"></span></b>
				<h1 id="titleLOV" class="WNDtitletxt"></h1>

			<div class="WNDbuttons">
				<a class="WNDcls" href="#" id="WNDbuttons" title="Close"
					onclick="parent.closeIframe()"> <span class="LBLinv">Close</span>
				</a> <a class="WNDmax" href="#" id="WNDmaxBTN" title="Maximize"
					onclick="parent.maximizeFrame(event)"> <span class="LBLinv">Maximize</span>
				</a>
				<button id="min" type="button" onclick="parent.minimizeFrame(event)"><a class="WNDmin" href="#" title="Minimize" onclick="parent.minimizeFrame(event)"><span class="LBLinv">Min</span></a></button>
				</div>
			</div>
		</div>
		<div style="
    top: 1;
    /* margin-top: 0px; */
    float: both;
    flex-grow: inherit;
    position: absolute;
    top: 113px;">
		
		<label id="LOVL" style="color: red;">Customer No *</label> <input type="number"
			id="CUST_NO" /> <img id="imgLov"
			onclick="frameinWin('LOV_CUSTID','STDCID','List of Values Customer No');insertData('CUST_NO')"
			src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/0b/Search_Icon.svg/800px-Search_Icon.svg.png"
			width="20" height="20" />

		<div id="fetchData_div">
			<button id="fetchbtn" class="button" type="button"
				onclick="getCustomerDetails('UserMaintenanceModify')" onmousedown="">Fetch
				Data</button>
		</div>
		<br>
		
			<label>Customer Name:</label> <input type="text" id="cust_name">
			<br> <label>DOB :</label>
			<!-- <input type="text" id="cust_dob" required /> -->
			<input type="text" id="cust_dob" onclick="" /> <input
				type="date" id="dt" onchange="mydate1();" /> <br> <label>Salary:</label>
			<input type="text" id="cust_salary"> <br> <label>Dept:</label>
			<input type="text" id="cust_dept"> <br>

		</div>
<button id="cancel" class="cancel_button" type="button" onclick="window.location.reload();" onmousedown="" style="position: absolute;right: 15px;bottom: 74px;background: #0e7585;border: 1px;height: 26px;width: 58px;color: white;">Cancel</button>		<footer id="footer">
			<div id="field">

				<label class="LBLstd" id="maker" for="1">Maker:</label> <input
					class="TXTstd1" name="-1" id="cust_maker" type="text" value="">
				<label class="LBLstd" id="Approver" for="1">Approver:</label> <input
					class="TXTstd1" name="-1" id="cust_Approver" type="text" value="">
				<label class="LBLstd" id="Status" for="1">Status:</label> <input
					class="TXTstd1" name="-1" id="cust_Status" type="text" value="">
				<label class="LBLstd" id="Once_auth" for="1">Once Auth:</label> <input
					class="TXTstd1" name="-1" id="cust_Once_Auth1" type="checkbox"
					value=""> <input class="TXTstd1" name="-1"
					id="cust_Once_Auth" type="text" value="" hidden> <br>
				<label class="LBLstd" id="makerDT" for="1">Maker DT stamp:</label> <input
					class="TXTstd" name="-1" id="cust_maker_dt_stamp" type="text"
					value=""> <label class="LBLstd" id="Aprovertime" for="1">Aprovertime:</label>
				<input class="TXTstd1" name="-1" id="cust_Aprovertime" type="text"
					value=""> <label class="LBLstd" id="Aprovertime" for="1">Approver
					status:</label> <input class="TXTstd1" name="-1"
					id="cust_Approver_statement" type="text" value="">
			</div>
		</footer>


	<!-- </form> -->
	
	<script type="text/javascript">



/* const date = new Date();

let currentDay= String(date.getDate()).padStart(2, '0');

let currentMonth = String(date.getMonth()+1).padStart(2,"0");

let currentYear = date.getFullYear();



let currentDate = `${currentDay}-${currentMonth}-${currentYear}`;

console.log("The current date is " + currentDate);  */
function formatAMPM(date) {
	  var hours = date.getHours();
	  var minutes = date.getMinutes();
	  var ampm = hours >= 12 ? 'pm' : 'am';
	  hours = hours % 12;
	  hours = hours ? hours : 12; // the hour '0' should be '12'
	  minutes = minutes < 10 ? '0'+minutes : minutes;
	  var strTime = hours + ':' + minutes ;
	  return strTime;
	}
var currentdate = new Date(); 
var hours = currentdate.getHours();
var minutes = currentdate.getMinutes()
var currentDate =currentdate.getDate() + "-"
                + (currentdate.getMonth()+1)  + "-" 
                + currentdate.getFullYear() + "  "  
                  + formatAMPM(new Date);
                
console.log(currentDate );



document.getElementById("ApprovalId").disabled = true;
document.getElementById("CloseId").disabled = true;


var modifysaveElem=document.getElementById("modify&save");
modifysaveElem.style.display="none";

var fetchbtnElem=document.getElementById("fetchbtn");
fetchbtnElem.style.display="none";

var frameElem=document.getElementById("f1");
frameElem.style.display="none";
var WNDtitlebarElem =document.getElementById("WNDtitlebar");
WNDtitlebarElem.style.display="none";
document.getElementById("buttonExec").style.display="none"; 
document.getElementById("buttonSave").style.display="none"; 



function createBTN(){
	modifysaveElem.style.display="none";
	fetchbtnElem.style.display="none";
	
	 document.getElementById("buttonExec").disabled = false;
	document.getElementById("imgLov").style.display="";
	document.getElementById("buttonExec").style.display="block"; 
	document.getElementById("buttonSave").style.display="none"; 
	document.getElementById("ModifyId").disabled = true;
	 document.getElementById("DeleteId").disabled = true;
	 document.getElementById("CloseId").disabled = true;
	 document.getElementById("ApprovalId").disabled = true;
	 document.getElementById("NewId").disabled = true;
	 
	 

}

function createNew(){
	modifysaveElem.style.display="none";
	fetchbtnElem.style.display="none";
	
	document.getElementById("imgLov").style.display="none";
	
	 document.getElementById("buttonExec").style.display="none"; 
	 document.getElementById("buttonSave").style.display="block";
	 document.getElementById("ModifyId").disabled = true;
	 document.getElementById("ModifyId").style.display="none"; 
	 document.getElementById("DeleteId").disabled = true;
	 document.getElementById("DeleteId").style.display="none"; 
	 document.getElementById("CloseId").disabled = true;
	 document.getElementById("CloseId").style.display="none"; 
	 document.getElementById("ApprovalId").disabled = true;
	 document.getElementById("ApprovalId").style.display="none"; 
		
}
function readOnlyf(){
document.getElementById('CUST_NO').readOnly = false;
document.getElementById('cust_name').readOnly = false;
document.getElementById('cust_dob').readOnly = false;
document.getElementById('cust_salary').readOnly = false;
document.getElementById('cust_dept').readOnly = false;
}

var arr=[];


function insertData(id){
	console.log("calling function::",id);
	arr[0]=id;
	
}
window.addEventListener("message", function(message) {
	
	
	/* console.log("Message received from the parent: " + message.data.role_id); // Message received from parent
        recivedArray[0]= message.data.role_id.trim();
       console.log("Message received from the parent: " + message.data.role_desc);
       
       recivedArray[1] = message.data.role_desc.trim();
       
         document.getElementById("custid").value = message.data.role_id.trim(); */
        /*  var dta111=nameArray[1].id; */
       
         console.log("Message received from the parent:",message.data);
         document.getElementById(arr[0]).value = message.data[0];
         
          closeFrame(); 
       /* document.getElementById("inputtd10").value = message.data.role_desc.trim();   */
      }); 
      
function frameinWin(lov_id, function_id,title){
	console.log("Name::",lov_id,function_id,title);

	frameElem.style.display="block";
	frameElem.scrolling="off";
	document.getElementById("WNDmaxBTN").style.display="";
	 WNDtitlebarElem.style.display="block";
	frameElem.style.display="block"; 
	
	
	var titleLOVElem = document.getElementById("titleLOV");
	
	
	titleLOVElem.innerText=title;
	
/*  			document.getElementsByClassName("WNDbuttons").style.visibility = "hidden";
*/			  
      
            
                   var arr=[lov_id,function_id];
                   console.log("Arr:",arr);
                   
                  /*  const map = '{"name":"John", "age":30, "city":"New York"}';
                   const obj = JSON.parse(map); */

                   frameElem.src=origin+"/"+parent.getProjectName()+"/LovServlet1?getLogField=Field&lov_id="+lov_id+"&"+"function_id="+function_id;
	       
	        
	       /*  ifrm.style.width = "800px";
	        ifrm.style.height = "800px"; */
	       
	      
	          
	        function insertIframe(){
                   var LovIdElem=document.getElementById('LOVL').innerText;
      	    	 LovIdElem=LovIdElem.replace("*", " "); 
      	    	console.log('LovIdElem::',LovIdElem);
      	    	console.log("wndtextElement::::::",document.getElementById('f1').contentDocument.getElementById('WNDtitletxt'));
      	    	document.getElementById('f1').contentDocument.getElementById('WNDtitletxt').innerText=LovIdElem.innerText=LovIdElem;
	        }

	        
}

function closeFrame(){
	
	
	frameElem.style.display="none";
	
	var iframe = document.getElementById('f1');
	let lov_id="";
	let function_id="";
	
	iframe.src=origin+"/Dynamic_Web_Menu_Page_new11/LovServlet1?lov_id="+lov_id+"&"+"function_id="+function_id;


}

async function getCustomerDetails (method) {
 
	
	
	console.log(method)
/*  await swal("Wait", "Please wait while getting customer details", "success", {
       button: "Allright",
    });  */
 let custId = document.getElementById("CUST_NO").value;
 console.log("+++", custId);
 
 
 fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=GET&CUST_NO="+custId)  
 .then(function(response) {                      // first then()
     if(response.ok)
     {
       return response.text();         
     }
     
     alert("there is no data");
     throw new Error('Something went wrong.');
 })  
 .then(function(text) {                          // second then()
   console.log('Request successful', text);  
 })  
 .catch(function(error) {                        // catch
   console.log('Request failed', error);
 });
 if(method === "DynamicTest2"){ 
	 var inputFileds=["inputid","inputdesc"];
	 var url_send_data=origin+"/Dynamic_Web_Menu_Page_new12/UserMaintenance?method=POST&CUST_NO="+custId;
 }
 
 
 await fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&function_id=STDCASAC&method=GET&CUST_NO="+custId).then(data=> data.json())
 .then(async(data) => {
	 console.log(data.json);
 if(method === "DynamicTest2" || method === "UserMaintenanceModify" ) {
	 
	 
	 
	 

 for(const [key, value] of Object.entries(data)) {
	 
	 
	
	 console.log("test............................:");
	 console.log(key === "cust_Status" && value === "C");
	 console.log("key::",key+" "+"value:"+value);
	 
	
	  if(key === "cust_Status" && value === "C" )
		 {
		   document.getElementById("ModifyId").style.display="none"
			   document.getElementById("DeleteId").style.display="none";
		 }
	  else{
		  document.getElementById("ModifyId").style.display=""
			   document.getElementById("DeleteId").style.display="";
		  document.getElementById("DeleteId").disabled = false;
	  }
	 
	 if(method === "DynamicTest2"){
 document.getElementById(key).readOnly = true;
 
 if(key === "cust_Once_Auth" && value === "Y")
	 {
	 document.getElementById("cust_Once_Auth1").checked = true;
	 }
 if(document.getElementById("cust_maker").value.trim() === parent.document.getElementById("user_id").innerText)
 {
 document.getElementById("ModifyId").style.display="";
 document.getElementById("DeleteId").style.display="";
 }
else{
  document.getElementById("ModifyId").style.display="none";
}
	}
	 
	 
	 if(method === "UserMaintenanceModify"){
		 document.getElementById(key).readOnly = false;
		
			 }
	 
	 if(value === 'null'){
		 value.replace('null',' ');
	 }else{
		 document.getElementById(key).value = value;
	 }
  
  }
  } else {
  
  for (const [key, value] of Object.entries(data)) {
	  
	 
  document.getElementById(key).value = value;
	  
	  
  
  }
    
	
  
  }
 
 document.getElementById("buttonExec").disabled = true;
 
 document.getElementById("NewId").disabled = true;

 document.getElementById("ModifyId").disabled = false;
 ApproveBtnEnableCheck();

  })
}


function resetValues(){
	fetchbtnElem.style.display="none";
	document.getElementById("cust_name").value="";
	 document.getElementById("CUST_NO").value="";
	 document.getElementById("cust_dob").value="";
	 document.getElementById("cust_salary").value="";
	 document.getElementById("cust_dept").value="";
	 document.getElementById("cust_maker").value="";
	 document.getElementById("cust_maker_dt_stamp").value="";
	 document.getElementById("cust_Approver").value="";
	 document.getElementById("cust_Aprovertime").value="";
	 document.getElementById("cust_Status").value="";
	 document.getElementById("cust_Approver_statement").value="";
	 
}

function modifybtnEnable(){
	modifysaveElem.style.display="block";
	 document.getElementById("buttonSave").style.display="none";
	 document.getElementById("buttonExec").style.display="none";
}

function modifybtn(){
	fetchbtnElem.style.display="none";
	
	
	 document.getElementById("DeleteId").disabled = false;
	 document.getElementById('CUST_NO').readOnly = true;
	 
	 document.getElementById("cust_Approver_statement").value="U";
	 document.getElementById("cust_Once_Auth").value="N";
	
	 

}

function CustPost(method){
	let custId = document.getElementById("CUST_NO").value;
	let cust_name = document.getElementById("cust_name").value;
	let cust_dob = document.getElementById("cust_dob").value;
	let cust_salary = document.getElementById("cust_salary").value;
	let cust_dept = document.getElementById("cust_dept").value;
	/* let cust_maker = document.getElementById("cust_maker").value; */
	let cust_maker = parent.document.getElementById("user_id").innerText;
	let cust_maker_dt_stamp = document.getElementById("cust_maker_dt_stamp").value;
	let cust_Approver = document.getElementById("cust_Approver").value;
	let cust_Aprovertime = document.getElementById("cust_Aprovertime").value;
	let cust_Status = document.getElementById("cust_Status").value;
	let cust_Approver_statement = document.getElementById("cust_Approver_statement").value;
	let cust_Once_Auth=document.getElementById("cust_Once_Auth").value;
	
	if(method === "UserMaintenancePost")
		{
	
 fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=POST&CUST_NO="+custId+"&"+"NAME="+cust_name+"&"+
		 "DOB="+cust_dob+"&"+"SALARY="+cust_salary+"&"+"DEPT="+cust_dept+"&"+"MAKER="+cust_maker+"&"+
		 "MAKER_DT_STAMP="+cust_maker_dt_stamp+"&"+"APPROVER="+cust_Approver+"&"+"APROVERTIME="+cust_Aprovertime+
		 "&"+"STATUS="+cust_Status+"&"+"APPROVER_STATEMENT="+cust_Approver_statement+"&"+"ONCE_AUTH="+cust_Once_Auth);
         if(custId === "" || custId === null)
        	 {
        	 alert("there is no data that you have entered");
        	 }
         else{
           alert("Sucessfully Save");
         }
		}
	
	
	
	if(method === "UserMaintenanceUpdate")
		{
		if(document.getElementById("cust_maker").value.trim() === parent.document.getElementById("user_id").innerText){
		 
		 
		  if(custId === "" || custId === null)
     	 {
     	   alert("there is no data that you have entered");
     	 }
      else{
    	  fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=UPDATE&CUST_NO="+custId+"&"+"cust_name="+cust_name+"&"+
 				 "cust_dob="+cust_dob+"&"+"cust_salary="+cust_salary+"&"+"cust_dept="+cust_dept+"&"+"cust_maker="+cust_maker+"&"+
 				 "cust_maker_dt_stamp="+cust_maker_dt_stamp+"&"+"cust_Approver="+cust_Approver+"&"+"cust_Aprovertime="+cust_Aprovertime+
 				 "&"+"cust_Status="+cust_Status+"&"+"cust_Approver_statement="+cust_Approver_statement+"&"+"cust_Once_Auth="+cust_Once_Auth);
    	  alert("Sucessfully Modify");
      }
		
	
		
		}
		else{
			alert("Cannot modify");
		}
	}
	
}

function deleteData(){
	
	let custId = document.getElementById("CUST_NO").value;
	console.log("deleteData:::",custId)
	fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=DELETE&CUST_NO="+custId);
	
}

function readOnlyf(){
	document.getElementById('CUST_NO').readOnly = false;
	document.getElementById('cust_name').readOnly = false;
	document.getElementById('cust_dob').readOnly = false;
	document.getElementById('cust_salary').readOnly = false;
	document.getElementById('cust_dept').readOnly = false;
	}


function getDataFooter(){
	document.getElementById("cust_maker").value=parent.document.getElementById("user_id").innerText;
	document.getElementById("cust_maker_dt_stamp").value=currentDate;
	document.getElementById("cust_Status").value="O";
	document.getElementById("cust_Approver_statement").value="U";
	document.getElementById("cust_Once_Auth").value="N";
	
}

function mydate1() {
	  d = new Date(document.getElementById("dt").value);
	  dt = d.getDate();
	  mn = d.getMonth();
	  mn++;
	  yy = d.getFullYear();
	  document.getElementById("cust_dob").value = dt + "-" + mn + "-" + yy
	  
	}

function readOnlyFooterField(){	
document.getElementById("cust_maker").readOnly = true;
document.getElementById("cust_Approver").readOnly = true;
document.getElementById("cust_Status").readOnly = true;

document.getElementById("cust_maker_dt_stamp").readOnly = true;
document.getElementById("cust_Aprovertime").readOnly = true;
document.getElementById("cust_Approver_statement").readOnly = true;
}

readOnlyFooterField();


function validateDelet(){
	
	
	var cust_Ap_st=document.getElementById("cust_Approver_statement").value;
	console.log("cust_Ap_st:",cust_Ap_st);
	var cust_Once_A=document.getElementById("cust_Once_Auth").value;
	console.log("cust_Once_A:",cust_Once_A);
	var userLogIn=parent.document.getElementById("user_id").innerText;
	console.log("userLogIn:",userLogIn);
	
	var cust_mak=document.getElementById("cust_maker").value.trim();
	console.log("cust_mak:",cust_mak);

	var response = confirm("Are you sure you want to delete ?");
    console.log("response"+response);
   if (response == true) {
       //document.write("Delete Sucessfull");
       console.log("all condition is :::",cust_Ap_st === "U" &&  cust_Once_A === "N" && cust_mak === userLogIn)
       
       if(cust_Ap_st === "U" &&  cust_Once_A === "N" && cust_mak === userLogIn)
		{
		deleteData();
		alert("Delete Sucessfull");
		
		}
	else{
		alert("Cannot delete ");
		
	}
       
   }

}

function ApproveBtnEnableCheck(){
	console.log("Inside funcion ApproveBtnEnableCheck():::");
	let cust_makerE=document.getElementById("cust_maker").value.trim();
	let cust_Once_AuthE=document.getElementById("cust_Once_Auth").value;
	let parent_cust_makerElem = parent.document.getElementById("user_id").innerText;
	console.log("cust_makerElem::"+cust_makerE +"parent_cust_makerElem::"+ parent_cust_makerElem);
	console.log("condition ::"+cust_makerE === parent_cust_makerElem);
	if( cust_makerE === parent_cust_makerElem)
		{
		
		   document.getElementById("ApprovalId").disabled = true;
		}
	else{
			document.getElementById("ApprovalId").disabled = false;
	}
}

function approveData(){
	
	
	
	if(document.getElementById("cust_maker").value !== parent.document.getElementById("user_id").innerText && document.getElementById("cust_Approver_statement").value === "U" && document.getElementById("cust_Once_Auth").value === "N"){
	  let custId=document.getElementById("CUST_NO").value;
	 document.getElementById("cust_Approver").value=parent.document.getElementById("user_id").innerText;
	 let cust_Once_AuthEle=document.getElementById("cust_Once_Auth").value="Y";
	 console.log("cust_Once_AuthEle::"+cust_Once_AuthEle);
	 let cust_ap_stmtElem=document.getElementById("cust_Approver_statement").value="A";
	 console.log("cust_ap_stmtElem::"+cust_ap_stmtElem);
	 let cust_StatusElem=document.getElementById("cust_Status").value;
	 console.log("cust_StatusElem::"+cust_StatusElem);
	 document.getElementById("cust_Aprovertime").value=currentDate;
	 document.getElementById("cust_Once_Auth1").checked=true;
	 
	 
	 
	 fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=APPROVE&custid="+custId+"&"+"cust_Once_Auth="
			 +cust_Once_AuthEle+"&"+"cust_Approver_statement="+cust_ap_stmtElem+"&"+"cust_Approver="+
			 parent.document.getElementById("user_id").innerText);
	 alert("Approved Sucess");
	}
	else{
		alert("Already Approved");
	}
	
	if(document.getElementById("cust_Approver_statement").value === "A" && document.getElementById("cust_Status").value === "O" && document.getElementById("cust_Once_Auth").value ==="Y"){

	document.getElementById("CloseId").disabled = false;
	}
}

function CloseAcc(){
	
	if(document.getElementById("cust_Status").value === "O" ||  document.getElementById("cust_Status").value === "H" || document.getElementById("cust_Status").value !== "C")
		{
	let cust_StatusE=document.getElementById("cust_Status").value="C";
	let custid=document.getElementById("CUST_NO").value;
	
	fetch(origin+"/"+parent.getProjectName()+"/Screen_Json?function_id=STDCASAC&method=CLOSE&custid="+custid+"&"+"cust_Status="+cust_StatusE);
	alert("Sucessfully Closed");
		}
	else{
		alert("Already Closed");
	}
}





</script>


</body>
</html>


